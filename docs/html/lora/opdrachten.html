
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="nl">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Opdrachten &#8212; iot-0  documentatie</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Zoeken" href="../search.html" />
    <link rel="next" title="Toetsvragen" href="toetsvragen.html" />
    <link rel="prev" title="TTN-console" href="ttn-console.html" />

<script type="application/json" class="js-hypothesis-config">
{
"showHighlights": false
}
</script>
<script async src="https://hypothes.is/embed.js"></script>


  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">iot-0</a></h1>








<h3>Navigatie</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../voorwoord.html">Voorwoord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inleiding.html">Inleiding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bouwstenen.html">Bouwstenen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webserver.html">Webserver-knopen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wifi.html">WiFi-MQTT-knopen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rfm69.html">RFM69-knopen</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../lora.html">LoRa-knopen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lorawan-keten.html">LoRaWan-keten</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttn-console.html">TTN-console</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Opdrachten</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ttn-application">1. TTN-application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nodered-ttn-dashboard">2. Nodered-TTN-Dashboard</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dashboard-flow">Dashboard-flow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#je-eigen-ttn-iot-knoop">3. Je eigen TTN IoT-knoop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lorawan-toepassingen">4. LoRaWan-toepassingen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="toetsvragen.html">Toetsvragen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configureren.html">Configureren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ten-geleide.html">Voor de docent</a></li>
</ul>
<p class="caption"><span class="caption-text">Andere modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://infvo.github.io/com-0/">Com-0</a></li>
<li class="toctree-l1"><a class="reference external" href="https://infvo.github.io/iot-1/">IoT-1</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../lora.html">LoRa-knopen</a><ul>
      <li>Previous: <a href="ttn-console.html" title="vorig hoofdstuk">TTN-console</a></li>
      <li>Next: <a href="toetsvragen.html" title="volgend hoofdstuk">Toetsvragen</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Snel zoeken</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Zoek" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="opdrachten">
<h1>Opdrachten<a class="headerlink" href="#opdrachten" title="Permalink naar deze titel">¶</a></h1>
<div class="section" id="ttn-application">
<h2>1. TTN-application<a class="headerlink" href="#ttn-application" title="Permalink naar deze titel">¶</a></h2>
<p>TheThingsNetwork (TTN: <a class="reference external" href="https://thethingsnetwork.org">https://thethingsnetwork.org</a>) is een wereldwijd LoRaWan netwerk gemaakt door een community.
Dit netwerk is voor iedereen gratis te gebruiken.</p>
<p>In deze opdracht gebruik je een TTN-toepassing met actieve IoT-knopen.
Je bestudeert de berichten die deze knopen versturen naar het netwerk.</p>
<div class="admonition-wat-heb-je-nodig admonition">
<p class="first admonition-title">Wat heb je nodig?</p>
<ul class="last simple">
<li>een bestaande TTN-toepassing (application) met actieve IoT-knopen (via je docent).</li>
<li>een (gratis) TTN-account, met toegang tot deze TTN-toepassing.</li>
</ul>
</div>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/IoT-LoRaWan-console.png"><img alt="../_images/IoT-LoRaWan-console.png" src="../_images/IoT-LoRaWan-console.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">LoRaWan toepassing: van IoT-knoop tot TTN-console</span></p>
</div>
<p>De berichten van de LoRa IoT-knopen vind je via het TTN-console:</p>
<ul class="simple">
<li>log in bij TTN (<a class="reference external" href="https://www.thethingsnetwork.org/">https://www.thethingsnetwork.org/</a>), en ga naar je <em>console</em>;</li>
<li>selecteer de gegeven <em>application</em>;</li>
<li>selecteer de <code class="docutils literal notranslate"><span class="pre">data</span></code>-tab; je ziet dan de berichten van de actieve IoT-knopen.</li>
</ul>
<p>Bekijk de details van een bericht;
klik hiervoor op de regel van het bericht.
Beantwoord de volgende vragen:</p>
<ol class="arabic simple">
<li>welke IoT-knoop (device) heeft het bericht verstuurd?</li>
<li>wat is de lengte van de <em>payload</em> (in bytes)?</li>
<li>wat is de geschatte <em>airtime</em> van het bericht?</li>
<li>door hoeveel <em>gateways</em> is het bericht ontvangen?</li>
<li><dl class="first docutils">
<dt>waar staat de eerste gateway?</dt>
<dd><ul class="first last">
<li>zet zo nodig de coördinaten om in een straatnaam;
gebruik daarvoor Google Maps of <a class="reference external" href="https://www.openstreetmap.org">Open Street Map</a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>kun je deze gateway vinden op de kaart van TTN?</dt>
<dd><ul class="first last">
<li>zie <a class="reference external" href="https://www.thethingsnetwork.org/community">https://www.thethingsnetwork.org/community</a></li>
</ul>
</dd>
</dl>
</li>
<li>hoeveel berichten stuurt de IoT-knoop (ongeveer) per uur en per dag?</li>
<li>voldoet de IoT-knoop daarmee aan de TTN “fair access policy”?</li>
<li>welke frequenties gebruikt een IoT-knoop achtereenvolgens?
Waarom gebruikt een LoRa/TTN IoT-knoop verschillende frequenties?</li>
<li>wat is de spreading factor (SF) bij de communicatie?
* zie: <a class="reference external" href="https://zakelijkforum.kpn.com/lora-forum-16/spreading-factor-sf-time-on-air-and-adaptive-data-rate-10908">https://zakelijkforum.kpn.com/lora-forum-16/spreading-factor-sf-time-on-air-and-adaptive-data-rate-10908</a></li>
<li>wat is de signaalsterkte (rssi)?
Vergelijke de signaalsterkte voor berichten van verschillende IoT-knopen.
Kloppen deze (ongeveer) met de afstand van de IoT-knoop tot de gateway?</li>
<li>als het bericht door meerdere gateways ontvangen wordt:
kloppen de signaalsterktes (rssi) voor de verschillende gateways ongeveer met de afstand tot de IoT-knoop?</li>
</ol>
<p>De onderdelen van een bericht in het data-overzicht:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Uplink:</th><td class="field-body">bericht van IoT-knoop naar LoRaWan-server;</td>
</tr>
<tr class="field-even field"><th class="field-name">Downlink:</th><td class="field-body">bericht van LoRaWan-server naar IoT-knoop;</td>
</tr>
<tr class="field-odd field"><th class="field-name">Payload:</th><td class="field-body">de oorspronkelijke (binaire) payload van het bericht;</td>
</tr>
<tr class="field-even field"><th class="field-name">Fields:</th><td class="field-body">de gedecodeerde waarden van de payload (zie application-Payload formats);</td>
</tr>
<tr class="field-odd field"><th class="field-name">Metadata:</th><td class="field-body">de data over de communicatie, bepaald door de gateway;</td>
</tr>
<tr class="field-even field"><th class="field-name">Airtime:</th><td class="field-body">de tijd dat het bericht het radiokanaal gebruikt.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="nodered-ttn-dashboard">
<h2>2. Nodered-TTN-Dashboard<a class="headerlink" href="#nodered-ttn-dashboard" title="Permalink naar deze titel">¶</a></h2>
<p>Met NodeRed maak je een dashboard voor de sensordata van een Lora/TTN IoT-knoop.
Hierbij gebruik je de NodeRed-nodes voor TTN.</p>
<div class="admonition-wat-heb-je-nodig admonition">
<p class="first admonition-title">Wat heb je nodig?</p>
<ul class="last simple">
<li>een bestaande TTN-toepassing (application) met actieve IoT-knopen (via je docent);</li>
<li>een (gratis) TTN-account, met toegang tot deze TTN-toepassing;</li>
<li>een (gratis) FRED-account, of andere NodeRed-server.</li>
</ul>
</div>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/IoT-LoRaWan-NodeRed.png"><img alt="../_images/IoT-LoRaWan-NodeRed.png" src="../_images/IoT-LoRaWan-NodeRed.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">NodeRed-dashboard voor TTN</span></p>
</div>
<p>NodeRed heeft de volgende knopen voor de verbinding met de TTN-server:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="23%" />
<col width="21%" />
<col width="31%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>figuur</strong></td>
<td><strong>naam</strong></td>
<td><strong>soort</strong></td>
<td><strong>betekenis</strong></td>
</tr>
<tr class="row-even"><td><img alt="ttn-uplink" src="../_images/nodered-ttn-uplink-node.png" /></td>
<td>ttn-uplink</td>
<td>input</td>
<td>data van ttn-knopen</td>
</tr>
<tr class="row-odd"><td><img alt="ttn-event" src="../_images/nodered-ttn-event-node.png" /></td>
<td>ttn-event</td>
<td>input</td>
<td>events(*)</td>
</tr>
<tr class="row-even"><td><img alt="ttn-downlink" src="../_images/nodered-ttn-downlink-node.png" /></td>
<td>ttn-downlink</td>
<td>output</td>
<td>data naar ttn-knopen</td>
</tr>
</tbody>
</table>
<p>Deze nodes gebruiken het MQTT-interface van de TTN-server.</p>
<ul class="simple">
<li>de <em>uplink</em>-node ontvangt de data van een TTN-toepassing of van een enkel device (IoT-knoop).</li>
<li>via de <em>downlink</em>-node stuur je data naar een device (IoT-knoop).
Downlink-berichten zijn in een LoRaWan-netwerk maar heel beperkt mogelijk.</li>
<li>de <em>event</em>-node ontvangt de meta-data van de TTN-server over een TTN-toepassing of een device (IoT-knoop).
Een typisch voorbeeld van een event is de registratie van een device bij een gateway.</li>
</ul>
<p class="rubric">Installeren van de TTN-nodes in NodeRed</p>
<p>Voordat je de TTN-nodes kunt gebruiken moet je deze (eenmalig) installeren in NodeRed.</p>
<div class="admonition-let-op admonition">
<p class="first admonition-title">Let op</p>
<p class="last">Het installeren van de TTN-nodes werkt bij FRED anders dan bij een normale NodeRed-installatie.</p>
</div>
<p>In het geval van een <strong>FRED-account</strong> (<a class="reference external" href="https://fred.sensetecnic.com">https://fred.sensetecnic.com</a>) gebruik je de volgende stappen:</p>
<blockquote>
<div><ul class="simple">
<li>selecteer in het FRED-menu links onder “Tools”: “Add or remove nodes”;</li>
<li>type in het zoekveld: <code class="docutils literal notranslate"><span class="pre">ttn</span></code></li>
<li>vink aan: TTN - TheThingsNetwork NodeRed application</li>
</ul>
</div></blockquote>
<p>In een <strong>normale NodeRed-installatie</strong> installeer je de TTN-Nodes als volgt:</p>
<ul class="simple">
<li>selecteer in het NodeRed UI in het “hamburger menu” rechts boven: “Manage Palette”.</li>
<li>selecteer de tab “install”, en type in het zoekveld: <code class="docutils literal notranslate"><span class="pre">ttn</span></code></li>
<li>selecteer het item <code class="docutils literal notranslate"><span class="pre">node-red-contrib-ttn</span></code>, en klik op “install”.</li>
<li>als het goed is zijn na de installatie de nodes beschikbaar in het palette links.</li>
</ul>
<p>Als “Manage Palette” niet beschikbaar is, moet de NodeRed-installatie aangepast worden
(vraag via je docent).</p>
<div class="section" id="dashboard-flow">
<h3>Dashboard-flow<a class="headerlink" href="#dashboard-flow" title="Permalink naar deze titel">¶</a></h3>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/iot-ttn-dashboard-flow.png"><img alt="../_images/iot-ttn-dashboard-flow.png" src="../_images/iot-ttn-dashboard-flow.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Dashboard-flow voor TTN</span></p>
</div>
<ul class="simple">
<li>kopieer de onderstaande NodeRed-flow, en importeer deze naar een leeg tabblad in NodeRed.</li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;7865201f.d5d3b&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ttn uplink&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;ttn uplink&quot;</span><span class="p">,</span><span class="nt">&quot;app&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;dev_id&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">480</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[[</span><span class="s2">&quot;bff21cee.9ce63&quot;</span><span class="p">,</span><span class="s2">&quot;3a0067cc.cf7f2&quot;</span><span class="p">,</span><span class="s2">&quot;f0805976.ff9328&quot;</span><span class="p">,</span><span class="s2">&quot;b234b34e.3fc96&quot;</span><span class="p">,</span><span class="s2">&quot;a72147cb.239e38&quot;</span><span class="p">]]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;bff21cee.9ce63&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;tosidebar&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;console&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;tostatus&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;complete&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">770</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;3a0067cc.cf7f2&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_gauge&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="s2">&quot;397ba453.3b0e0c&quot;</span><span class="p">,</span><span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;gtype&quot;</span><span class="p">:</span><span class="s2">&quot;gage&quot;</span><span class="p">,</span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Temp&quot;</span><span class="p">,</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;&#39;C&quot;</span><span class="p">,</span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="s2">&quot;{{payload.celcius}}&quot;</span><span class="p">,</span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="s2">&quot;50&quot;</span><span class="p">,</span><span class="nt">&quot;colors&quot;</span><span class="p">:[</span><span class="s2">&quot;#00b500&quot;</span><span class="p">,</span><span class="s2">&quot;#e6e600&quot;</span><span class="p">,</span><span class="s2">&quot;#ca3838&quot;</span><span class="p">],</span><span class="nt">&quot;seg1&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;seg2&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">810</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">280</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;f0805976.ff9328&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_gauge&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="s2">&quot;febde8db.f65de8&quot;</span><span class="p">,</span><span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;gtype&quot;</span><span class="p">:</span><span class="s2">&quot;gage&quot;</span><span class="p">,</span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Barometer&quot;</span><span class="p">,</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;hPa&quot;</span><span class="p">,</span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="s2">&quot;{{payload.mbar}}&quot;</span><span class="p">,</span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="s2">&quot;970&quot;</span><span class="p">,</span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="s2">&quot;1040&quot;</span><span class="p">,</span><span class="nt">&quot;colors&quot;</span><span class="p">:[</span><span class="s2">&quot;#00b500&quot;</span><span class="p">,</span><span class="s2">&quot;#e6e600&quot;</span><span class="p">,</span><span class="s2">&quot;#ca3838&quot;</span><span class="p">],</span><span class="nt">&quot;seg1&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;seg2&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">810</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">320</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;af880438.e2c1a8&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_chart&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="s2">&quot;397ba453.3b0e0c&quot;</span><span class="p">,</span><span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span><span class="nt">&quot;chartType&quot;</span><span class="p">:</span><span class="s2">&quot;line&quot;</span><span class="p">,</span><span class="nt">&quot;legend&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span><span class="nt">&quot;xformat&quot;</span><span class="p">:</span><span class="s2">&quot;HH:mm&quot;</span><span class="p">,</span><span class="nt">&quot;interpolate&quot;</span><span class="p">:</span><span class="s2">&quot;linear&quot;</span><span class="p">,</span><span class="nt">&quot;nodata&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;dot&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;ymin&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nt">&quot;ymax&quot;</span><span class="p">:</span><span class="s2">&quot;50&quot;</span><span class="p">,</span><span class="nt">&quot;removeOlder&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">&quot;removeOlderPoints&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;removeOlderUnit&quot;</span><span class="p">:</span><span class="s2">&quot;86400&quot;</span><span class="p">,</span><span class="nt">&quot;cutout&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;useOneColor&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;colors&quot;</span><span class="p">:[</span><span class="s2">&quot;#1f77b4&quot;</span><span class="p">,</span><span class="s2">&quot;#aec7e8&quot;</span><span class="p">,</span><span class="s2">&quot;#ff7f0e&quot;</span><span class="p">,</span><span class="s2">&quot;#2ca02c&quot;</span><span class="p">,</span><span class="s2">&quot;#98df8a&quot;</span><span class="p">,</span><span class="s2">&quot;#d62728&quot;</span><span class="p">,</span><span class="s2">&quot;#ff9896&quot;</span><span class="p">,</span><span class="s2">&quot;#9467bd&quot;</span><span class="p">,</span><span class="s2">&quot;#c5b0d5&quot;</span><span class="p">],</span><span class="nt">&quot;useOldStyle&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">810</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">380</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[[],[]]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;85ed9f09.ee6ce8&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_chart&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Barometer&quot;</span><span class="p">,</span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="s2">&quot;febde8db.f65de8&quot;</span><span class="p">,</span><span class="nt">&quot;order&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Barometer&quot;</span><span class="p">,</span><span class="nt">&quot;chartType&quot;</span><span class="p">:</span><span class="s2">&quot;line&quot;</span><span class="p">,</span><span class="nt">&quot;legend&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span><span class="nt">&quot;xformat&quot;</span><span class="p">:</span><span class="s2">&quot;HH:mm&quot;</span><span class="p">,</span><span class="nt">&quot;interpolate&quot;</span><span class="p">:</span><span class="s2">&quot;linear&quot;</span><span class="p">,</span><span class="nt">&quot;nodata&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;dot&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;ymin&quot;</span><span class="p">:</span><span class="s2">&quot;990&quot;</span><span class="p">,</span><span class="nt">&quot;ymax&quot;</span><span class="p">:</span><span class="s2">&quot;1030&quot;</span><span class="p">,</span><span class="nt">&quot;removeOlder&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">&quot;removeOlderPoints&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;removeOlderUnit&quot;</span><span class="p">:</span><span class="s2">&quot;86400&quot;</span><span class="p">,</span><span class="nt">&quot;cutout&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;useOneColor&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;colors&quot;</span><span class="p">:[</span><span class="s2">&quot;#1f77b4&quot;</span><span class="p">,</span><span class="s2">&quot;#aec7e8&quot;</span><span class="p">,</span><span class="s2">&quot;#ff7f0e&quot;</span><span class="p">,</span><span class="s2">&quot;#2ca02c&quot;</span><span class="p">,</span><span class="s2">&quot;#98df8a&quot;</span><span class="p">,</span><span class="s2">&quot;#d62728&quot;</span><span class="p">,</span><span class="s2">&quot;#ff9896&quot;</span><span class="p">,</span><span class="s2">&quot;#9467bd&quot;</span><span class="p">,</span><span class="s2">&quot;#c5b0d5&quot;</span><span class="p">],</span><span class="nt">&quot;useOldStyle&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">810</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">420</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[[],[]]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;b234b34e.3fc96&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;change&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;select payload.celcius&quot;</span><span class="p">,</span><span class="nt">&quot;rules&quot;</span><span class="p">:[{</span><span class="nt">&quot;t&quot;</span><span class="p">:</span><span class="s2">&quot;set&quot;</span><span class="p">,</span><span class="nt">&quot;p&quot;</span><span class="p">:</span><span class="s2">&quot;payload&quot;</span><span class="p">,</span><span class="nt">&quot;pt&quot;</span><span class="p">:</span><span class="s2">&quot;msg&quot;</span><span class="p">,</span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="s2">&quot;payload.celcius&quot;</span><span class="p">,</span><span class="nt">&quot;tot&quot;</span><span class="p">:</span><span class="s2">&quot;msg&quot;</span><span class="p">}],</span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;reg&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">380</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[[</span><span class="s2">&quot;af880438.e2c1a8&quot;</span><span class="p">]]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;a72147cb.239e38&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;change&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;6a5e1255.8509ec&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;select payload.mbar&quot;</span><span class="p">,</span><span class="nt">&quot;rules&quot;</span><span class="p">:[{</span><span class="nt">&quot;t&quot;</span><span class="p">:</span><span class="s2">&quot;set&quot;</span><span class="p">,</span><span class="nt">&quot;p&quot;</span><span class="p">:</span><span class="s2">&quot;payload&quot;</span><span class="p">,</span><span class="nt">&quot;pt&quot;</span><span class="p">:</span><span class="s2">&quot;msg&quot;</span><span class="p">,</span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="s2">&quot;payload.mbar&quot;</span><span class="p">,</span><span class="nt">&quot;tot&quot;</span><span class="p">:</span><span class="s2">&quot;msg&quot;</span><span class="p">}],</span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;reg&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">420</span><span class="p">,</span><span class="nt">&quot;wires&quot;</span><span class="p">:[[</span><span class="s2">&quot;85ed9f09.ee6ce8&quot;</span><span class="p">]]},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;397ba453.3b0e0c&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_group&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;TTN-device-1-temperature&quot;</span><span class="p">,</span><span class="nt">&quot;tab&quot;</span><span class="p">:</span><span class="s2">&quot;18f86ddf.f7110a&quot;</span><span class="p">,</span><span class="nt">&quot;disp&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="s2">&quot;6&quot;</span><span class="p">,</span><span class="nt">&quot;collapse&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;febde8db.f65de8&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_group&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;TTN-device-1-barometer&quot;</span><span class="p">,</span><span class="nt">&quot;tab&quot;</span><span class="p">:</span><span class="s2">&quot;18f86ddf.f7110a&quot;</span><span class="p">,</span><span class="nt">&quot;disp&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="s2">&quot;6&quot;</span><span class="p">,</span><span class="nt">&quot;collapse&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">},{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;18f86ddf.f7110a&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ui_tab&quot;</span><span class="p">,</span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;TTN-device-1&quot;</span><span class="p">,</span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="s2">&quot;dashboard&quot;</span><span class="p">}]</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt>configureer de TTN-uplink-node:</dt>
<dd><ul class="first last">
<li><em>App</em>: selecteer “Add new ttn app…”, en vul de gegevens uit het TTN-console voor de application in (Overview tab):</li>
<li><em>App ID</em>: de Application-ID (bovenin de Overview);</li>
<li><em>Access Key</em>: één van de Access Keys (onderaan in de Overview);</li>
<li><em>Discovery address</em>: (default-waarde laten staan)</li>
<li>“Add”</li>
<li><em>Device ID</em>: de naam van de node (uit het TTN-console) voor het dashboard</li>
<li>“Done”</li>
</ul>
</dd>
</dl>
</li>
<li>configureer de debug-node, met output: complete msg object</li>
<li>“Deploy”.</li>
</ul>
<p>Je ziet nu (als het goed is) in het bijbehorende dashboard de gegevens van de IoT-knoop verschijnen.
Dit kan even duren, omdat een IoT-knoop met tussenperioden van enkele minuten zendt.</p>
<p>Via de debug-node kun je de metadata van de communicatie tussen de IoT-knoop en de gateway volgen.
Een voorbeeld hiervan zie je hieronder:</p>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="../_images/lora-metadata.png"><img alt="../_images/lora-metadata.png" src="../_images/lora-metadata.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Metadata voor TTN-LoRaWan-communicatie</span></p>
</div>
<p>Beantwoord de onderstaande vragen:</p>
<ol class="arabic simple">
<li>welke gateway(s) ontvangen de berichten van deze IoT-knoop?</li>
<li>welke SF wordt gebruikt?</li>
<li>wat is de (geschatte) <em>air time</em> van de berichten?</li>
</ol>
</div>
</div>
<div class="section" id="je-eigen-ttn-iot-knoop">
<h2>3. Je eigen TTN IoT-knoop<a class="headerlink" href="#je-eigen-ttn-iot-knoop" title="Permalink naar deze titel">¶</a></h2>
<p>In deze opdracht koppel je een (voorgeconfigureerde) IoT-knoop aan het TTN-LoRaWan-netwerk.</p>
<div class="admonition-wat-heb-je-nodig admonition">
<p class="first admonition-title">Wat heb je nodig?</p>
<ul class="last simple">
<li>een IoT-LoRaWan-knoop, voorgeprogrammeerd en geconfigureerd voor een
TTN-toepassing;</li>
<li>een (gratis) TTN-account, met toegang tot de genoemde TTN-toepassing.</li>
</ul>
</div>
<ul class="simple">
<li>log in bij TTN, en ga naar je <em>console</em>;</li>
<li>selecteer de toepassing waartoe de IoT-knoop behoort;</li>
<li>selecteer in deze toepassing je eigen device (IoT-knoop);</li>
<li>zet je eigen knoop aan (power on); deze probeert nu verbinding te maken met een gateway;</li>
</ul>
<p>Bij de IoT-knopen gebaseerd op de Arduino Pro Mini geeft een knipperende led aan dat deze knoop verbinding zoekt met een gateway.
Het maken van een verbinding duurt enkele seconden (voor een gateway in de buurt) tot enkele uren (voor een gateway verder weg).</p>
<p>Bestudeer de berichten van deze knoop bij het aanmelden van de IoT-knoop bij het TTN-netwerk.
Beantwoord de volgende vragen:</p>
<ol class="arabic simple">
<li>welke SF-waarden worden geprobeerd voordat het uiteindelijke resultaat bereikt wordt?</li>
<li>(…)</li>
</ol>
</div>
<div class="section" id="lorawan-toepassingen">
<h2>4. LoRaWan-toepassingen<a class="headerlink" href="#lorawan-toepassingen" title="Permalink naar deze titel">¶</a></h2>
<p>Zoek op het web naar toepassingen van LoRaWan-netwerken.
Aanbieders van LoRaWan (zoals TTN en KPN) kunnen hiervoor inspiratie bieden.</p>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt>Geef 3 voorbeelden van bestaande LoRaWan-toepassingen,</dt>
<dd><ol class="first last loweralpha">
<li>Beschrijf de toepassing, met een verwijzing naar hun beschrijving op het web.</li>
<li>Beschrijf welke waarde deze toepassing heeft, en voor wie;
en wat de mogelijke nadelen van deze toepassing zijn, en wie deze ondervindt;</li>
<li>Ga na (of maak een redelijke schatting) welke sensordata voor deze toepassing verstuurd moeten worden;
hoe vaak moeten deze verstuurd worden?</li>
</ol>
</dd>
</dl>
</li>
<li>Bedenk een eigen toepassing van LoRaWan, bijvoorbeeld voor je eigen omgeving.
Beschrijf deze toepassing, de waarde die deze toepassing heeft voor de gebruikers,
en de mogelijke nadelen voor anderen in deze omgeving.</li>
</ol>
<p>Zie ook:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.thethingsnetwork.org/labs/">https://www.thethingsnetwork.org/labs/</a></li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://www.thethingsnetwork.org/marketplace">https://www.thethingsnetwork.org/marketplace</a></dt>
<dd><ul class="first last">
<li>o.a. “a better mousetrap”</li>
</ul>
</dd>
</dl>
</li>
<li><a class="reference external" href="https://www.kpn.com/zakelijk/grootzakelijk/internet-of-things/lora-netwerk.htm">https://www.kpn.com/zakelijk/grootzakelijk/internet-of-things/lora-netwerk.htm</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019, SLO.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/lora/opdrachten.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>